<script>
  import { Parallax, ParallaxLayer } from "svelte-parallax";
  import BackgroundGradientAnimation from "./components/BackgroundGradientAnimation.svelte";

  const handleDestroy = () => {
    console.log("Componente destruido");
  };

  let parallax;
  let disabled = false;
  let femCodersClub = "femCoders Club".split("");
  let src = "/prueba.png";
</script>

<BackgroundGradientAnimation onDestroy={handleDestroy} />

<Parallax sections={3} bind:this={parallax} {disabled}>
  {#each femCodersClub as char, index (index)}
    <ParallaxLayer
      rate={(index + 1) / (femCodersClub.length - 1)}
      offset={1}
      style="
      background-color: transparent;
      margin-left: {18 + index * 5}%; 
      font-size: 2rem; 
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); 
      color: white; 
    "
    >
      <p class="femCoders Club">
        {char}
      </p>
    </ParallaxLayer>
  {/each}

  <ParallaxLayer
    offset={1}
    rate={-2.5}
    style="display: flex; justify-content: flex-end;"
  >
    <div
      style="background-color: lightblue; opacity: 0.5; width: 50%; height: 100%;"
    />
  </ParallaxLayer>

  <ParallaxLayer
    offset={1}
    rate={2.5}
    style="display: flex; justify-content: flex-start;"
  >
    <div
      style="background-color: yellow; opacity: 0.5; width: 50%; height: 100%;"
    />
  </ParallaxLayer>

  <ParallaxLayer
    rate="1"
    style="
    background-color: transparent; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    flex-direction: column;
    
  "
  >
    <h1 class="title">Efecto Parallax con Svelte</h1>

    <div class="buttons-container">
      <button
        class="bottom-btn"
        on:click={() =>
          parallax.scrollTo(3, { selector: ".top-btn", duration: 4000 })}
      >
        Click me!
      </button>

      <button class="disable" on:click={() => (disabled = !disabled)}>
        disable
      </button>
    </div>

    <div class="content-container">
      <div class="text-container">
        <h2>femCoders Club</h2>
        <p class="text-left">
          Un espacio donde las mujeres de todas las habilidades y trayectorias
          se unen para aprender, crecer y prosperar en el mundo de la
          tecnologÃ­a.
        </p>
        <p class="text-left">
          Nuestro objetivo es derribar barreras, fomentar la diversidad y
          promover la igualdad de gÃ©nero en la industria.
        </p>
        <p class="text-left">
          Â¡Ãšnete a nosotros mientras construimos un futuro mÃ¡s inclusivo e
          innovador para todas! ðŸ˜Š
        </p>
      </div>

      <div class="logo-container">
        <img {src} alt="Logo" class="logo" />
      </div>
    </div>
  </ParallaxLayer>

  <ParallaxLayer
    offset="2"
    rate="2"
    style="
    background-color: pink; 
    display: flex; 
    justify-content: center; 
    align-items: center;
  "
  >
    <button
      class="top-btn"
      on:click={() =>
        parallax.scrollTo(1, { selector: ".bottom-btn", duration: 1000 })}
    >
      Scroll to top
    </button>
  </ParallaxLayer>
</Parallax>

<style>
</style>
